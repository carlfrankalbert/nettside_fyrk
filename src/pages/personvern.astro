---
/**
 * Privacy policy page
 * Uses same layout as landing page for consistency
 */
import '../styles/global.css';
import SEOHead from '../components/seo/SEOHead.astro';
import LandingHeader from '../components/landing/LandingHeader.astro';
import LandingFooter from '../components/landing/LandingFooter.astro';
import { footerContent } from '../data/landing';
import { personvernContent, lastUpdated } from '../data/legal';

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const { seo, title, subtitle, sections } = personvernContent;
---

<!doctype html>
<html lang="no" class="scroll-smooth">
  <head>
    <SEOHead
      title={seo.title}
      description={seo.description}
      type="website"
      canonicalUrl={canonicalURL}
    />
  </head>
  <body class="min-h-screen flex flex-col bg-neutral-50 text-neutral-700">
    <a href="#main-content" class="skip-link">Hopp til hovedinnhold</a>

    <LandingHeader navLinks={[]} />

    <main id="main-content" class="flex-1 pt-24 pb-8">
      <!-- Hero section for page title -->
      <section class="py-6 px-6">
        <div class="max-w-3xl mx-auto">
          <h1 class="text-3xl md:text-4xl font-semibold text-brand-navy mb-2">
            {title}
          </h1>
          <p class="text-lg text-neutral-600 mb-0">
            {subtitle}
          </p>
        </div>
      </section>

      <!-- Content section -->
      <section class="py-6 px-6">
        <div class="max-w-3xl mx-auto space-y-8">
          {sections.map((section) => (
            <div>
              <h2 class="text-xl font-semibold text-brand-navy mb-3">{section.heading}</h2>
              {'body' in section && section.body && (
                <p class:list={[
                  'text-neutral-600 leading-relaxed',
                  'bullets' in section && section.bullets ? 'mb-4' : 'mb-0',
                ]}>
                  {section.body}
                </p>
              )}
              {'bodyHtml' in section && section.bodyHtml && (
                <p class="text-neutral-600 leading-relaxed mb-0" set:html={section.bodyHtml} />
              )}
              {'bullets' in section && section.bullets && (
                <ul class="space-y-2 text-neutral-600">
                  {section.bullets.map((bullet: string) => (
                    <li class="flex items-start gap-3">
                      <span class="w-1.5 h-1.5 rounded-full bg-brand-cyan-darker mt-2 shrink-0"></span>
                      <span>{bullet}</span>
                    </li>
                  ))}
                </ul>
              )}
              {'callout' in section && section.callout && (
                <div class="mt-4 p-4 bg-brand-cyan-lightest/30 border border-brand-cyan/20 rounded-lg">
                  <p class="text-neutral-700 text-sm mb-0">
                    <strong class="text-brand-navy">{section.callout.label}</strong> {section.callout.text}
                  </p>
                </div>
              )}
            </div>
          ))}

          <div class="pt-6 border-t border-neutral-200">
            <p class="text-sm text-neutral-500 mb-0">
              Sist oppdatert: {lastUpdated}
            </p>
          </div>
        </div>
      </section>
    </main>

    <LandingFooter {...footerContent} />
  </body>
</html>
