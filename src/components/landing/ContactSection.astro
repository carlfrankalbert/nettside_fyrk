---
/**
 * Contact section for the landing page
 * Displays contact information and call-to-action buttons
 */
import { PHONE_PARTS, PHONE_COUNTRY } from '../../utils/links';

interface Props {
  title: string;
  description: string;
  emailHref: string;
  emailLabel: string;
  phoneLabel: string;
}

const { title, description, emailHref, emailLabel, phoneLabel } = Astro.props;
---

<section id="kontakt" class="py-16 md:py-20 px-6 bg-neutral-50 scroll-mt-20">
  <div class="max-w-2xl mx-auto text-center">
    <h2 class="text-h3 font-semibold text-brand-navy mb-4">
      {title}
    </h2>
    <p class="text-lg text-neutral-600 mb-8">
      {description}
    </p>

    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href={emailHref} class="btn btn-primary no-underline inline-flex" data-track-button="contact_email">
        {emailLabel}
      </a>
      <a
        id="contact-phone-btn"
        class="btn btn-outline no-underline inline-flex"
        data-c={PHONE_COUNTRY}
        data-p={PHONE_PARTS.join(',')}
        data-track-button="contact_phone"
      >
        {phoneLabel}
      </a>
    </div>

  </div>
</section>

<script>
  const el = document.getElementById('contact-phone-btn');
  if (el) {
    const c = el.dataset.c;
    const parts = (el.dataset.p ?? '').split(',');
    el.setAttribute('href', `tel:${c}${parts.join('')}`);
    el.removeAttribute('data-c');
    el.removeAttribute('data-p');
  }
</script>
